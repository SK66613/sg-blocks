/* ===== Bonus Wheel (cards carousel) â€” SG tokens / typography / radius ===== */

.blk-bonus-wheel{
  /* Typography bridges */
  --bw-font-body: var(--font-body, Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif);
  --bw-font-head: var(--font-head, var(--bw-font-body));
  --bw-font-btn:  var(--font-btn,  var(--bw-font-body));

  --bw-fs-body: var(--fs-body, 14px);
  --bw-fw-body: var(--fw-body, 400);
  --bw-it-body: var(--it-body, normal);
  --bw-ul-body: var(--ul-body, none);

  --bw-fs-h2: var(--fs-h2, 18px);
  --bw-fw-head: var(--fw-head, 800);
  --bw-it-head: var(--it-head, normal);
  --bw-ul-head: var(--ul-head, none);

  --bw-fs-btn: var(--fs-btn, 14px);
  --bw-fw-btn: var(--fw-btn, 800);
  --bw-it-btn: var(--it-btn, normal);
  --bw-ul-btn: var(--ul-btn, none);

  /* Colors */
  --bw-text:  var(--color-text, #e8f0ff);
  --bw-muted: var(--color-muted, #97aac4);

  --bw-card:   var(--color-card, #101827);
  --bw-surface:var(--color-surface, #121a2a);
  --bw-border: var(--color-border, #263048);

  --bw-acc:     var(--color-brand, #7C5CFF);
  --bw-onAcc:   var(--btn-primary-text, #ffffff);

  /* Buttons */
  --bw-btn-primary-bg:   var(--btn-primary-bg, var(--bw-acc));
  --bw-btn-primary-text: var(--btn-primary-text, #ffffff);
  --bw-btn-secondary-bg: var(--btn-secondary-bg, rgba(255,255,255,.06));
  --bw-btn-secondary-text: var(--btn-secondary-text, var(--bw-text));

  /* Radius */
  --bw-r-card:  var(--radius-card, 16px);
  --bw-r-btn:   var(--radius-btn, 14px);
  --bw-r-input: var(--radius-input, 12px);

  /* Shadow/ring */
  --bw-shadow: var(--shadow-soft, 0 8px 24px rgba(0,0,0,.12));
  --bw-ring:   var(--glow-brand, 0 0 0 3px rgba(124,92,255,.26));

  /* Sizes */
  --bw-wheel-h: 180px;
  --bw-item: 96px;
  --bw-gap: 10px;
}

.blk-bonus-wheel,
.blk-bonus-wheel *{
  font-family: var(--bw-font-body);
}

.blk-bonus-wheel{
  font-size: var(--bw-fs-body);
  font-weight: var(--bw-fw-body);
  font-style: var(--bw-it-body);
  text-decoration: var(--bw-ul-body);
  color: var(--bw-text);
  -webkit-tap-highlight-color: transparent;
}

/* Card */
.blk-bonus-wheel .bonus-card{
  padding: 14px;
  border-radius: var(--bw-r-card);
  border: 1px solid var(--bw-border);
  background: var(--bw-card);
  box-shadow: var(--bw-shadow);
  overflow: hidden;
}

/* Title */
.blk-bonus-wheel .bonus-card .h2{
  margin: 0 0 10px;
  font-family: var(--bw-font-head);
  font-size: var(--bw-fs-h2);
  font-weight: var(--bw-fw-head);
  font-style: var(--bw-it-head);
  text-decoration: var(--bw-ul-head);
  line-height: 1.15;
}

/* Head row */
.blk-bonus-wheel .bonus-head{
  display:flex;
  align-items:center;
  gap: 12px;
  flex-wrap: wrap;
  margin: 0 0 10px;
}

.blk-bonus-wheel .picked-pill{
  display:flex;
  align-items:center;
  gap: 10px;
  min-height: 40px;
  padding: 8px 12px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.04);
  font-weight: calc(var(--bw-fw-body) + 200);
  max-width: 100%;
}

.blk-bonus-wheel .picked-pill img{
  width: 28px;
  height: 28px;
  border-radius: 10px;
  object-fit: cover;
  display:block;
}

.blk-bonus-wheel .picked-pill.muted{
  opacity: .78;
  font-weight: var(--bw-fw-body);
  background: linear-gradient(135deg, rgba(124,92,255,.14), rgba(255,255,255,.04));
}

/* Wheel (fixed height, no vertical scroll) */
.blk-bonus-wheel .bonus-wheel{
  position: relative;
  height: var(--bw-wheel-h);
  overflow: hidden;
  border-radius: var(--bw-r-card);
  background: linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,0) 60%);
  margin-top: 6px;
}

.blk-bonus-wheel .wheel-track{
  position: relative;
  width: 100%;
  height: 100%;
  touch-action: pan-x;
  user-select: none;
  cursor: grab;
}

.blk-bonus-wheel.dragging .wheel-track{ cursor: grabbing; }

/* Bonus card item */
.blk-bonus-wheel .bonus-wheel .bonus{
  all: unset;
  position: absolute;
  left: 50%;
  top: 50%;
  width: var(--bw-item);
  height: var(--bw-item);
  border-radius: calc(var(--bw-r-card) - 0px);
  overflow: hidden;
  transform: translate(-50%, -50%);
  will-change: transform;
  transition: transform .25s ease, filter .25s ease, opacity .25s ease, box-shadow .25s ease;
}

.blk-bonus-wheel .bonus-wheel .bonus img{
  width: 100%;
  height: 100%;
  object-fit: cover;
  display:block;
}

/* label below card */
.blk-bonus-wheel .bonus-wheel .bonus span{
  position: absolute;
  left: 50%;
  bottom: -22px;
  transform: translateX(-50%);
  font-size: 12px;
  opacity: .85;
  white-space: nowrap;
  pointer-events: none;
  color: var(--bw-muted);
}

/* inactive */
.blk-bonus-wheel .bonus-wheel .bonus:not(.active){
  filter: grayscale(.18) brightness(.95);
  opacity: .9;
}

/* active highlight */
.blk-bonus-wheel .bonus-wheel .bonus.active{
  box-shadow:
    0 0 0 2px rgba(124,92,255,.55) inset,
    0 10px 28px rgba(124,92,255,.28),
    0 0 22px rgba(124,92,255,.18);
}

/* center glow */
.blk-bonus-wheel .bonus-wheel .wheel-center{
  pointer-events: none;
  position: absolute;
  inset: 0;
  background: radial-gradient(ellipse at center, rgba(124,92,255,.12), transparent 55%);
  mask: linear-gradient(#000 30%, transparent 80%);
}

/* Actions row */
.blk-bonus-wheel .actions{
  margin-top: 12px;
  display: grid;
  grid-template-columns: 1fr 1fr auto;
  gap: 8px;
  align-items: center;
}

.blk-bonus-wheel .actions .btn{
  min-height: 44px;
  padding: 0 14px;

  border-radius: var(--bw-r-btn);
  border: 1px solid var(--bw-border);
  cursor: pointer;

  display:inline-flex;
  align-items:center;
  justify-content:center;

  font-family: var(--bw-font-btn);
  font-size: var(--bw-fs-btn);
  font-weight: var(--bw-fw-btn);
  font-style: var(--bw-it-btn);
  text-decoration: var(--bw-ul-btn);
  line-height: 1;

  transition: transform .12s ease, filter .12s ease, box-shadow .12s ease;
}

.blk-bonus-wheel .actions .btn:active{ transform: translateY(1px); }
.blk-bonus-wheel .actions .btn:focus-visible{ outline:none; box-shadow: var(--bw-ring); }

.blk-bonus-wheel .actions .btn.primary{
  background: var(--bw-btn-primary-bg);
  color: var(--bw-btn-primary-text);
  border-color: transparent;
  box-shadow: 0 14px 28px rgba(0,0,0,.16);
}

.blk-bonus-wheel .actions .btn:not(.primary){
  background: var(--bw-btn-secondary-bg);
  color: var(--bw-btn-secondary-text);
}

.blk-bonus-wheel .actions .btn[disabled]{
  opacity: .6;
  pointer-events: none;
  box-shadow: none;
}

.blk-bonus-wheel .actions [data-picked]{
  opacity: .85;
  color: var(--bw-muted);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 28vw;
}

/* locked state */
.blk-bonus-wheel .actions .btn.is-locked{ opacity: .65; }
.blk-bonus-wheel .actions .btn.is-locked:active{ transform:none; }

/* Reduce motion */
@media (prefers-reduced-motion: reduce){
  .blk-bonus-wheel .bonus-wheel .bonus,
  .blk-bonus-wheel .actions .btn{
    transition: none !important;
  }
}

.blk-bonus-wheel .bw-wallet{
  margin-top: 14px;
}

.blk-bonus-wheel .bw-wallet-head{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  margin-bottom: 10px;
}

.blk-bonus-wheel .bw-wallet-title{
  font-weight: var(--bw-fw-head);
}

.blk-bonus-wheel .bw-wallet-count{
  min-width: 28px;
  height: 28px;
  padding: 0 8px;
  border-radius: 999px;
  border: 1px solid var(--bw-border);
  background: rgba(255,255,255,.04);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
}

.blk-bonus-wheel .bw-wallet-grid{
  display: grid;
  gap: 10px;
}

.blk-bonus-wheel .bw-wallet-card{
  border: 1px solid var(--bw-border);
  border-radius: var(--bw-r-card);
  background: var(--bw-surface);
  box-shadow: var(--bw-shadow);
  padding: 10px;
  display: grid;
  grid-template-columns: 44px minmax(0, 1fr) auto;
  align-items: center;
  gap: 10px;
}

.blk-bonus-wheel .bw-wallet-thumb{
  width: 44px;
  height: 44px;
  border-radius: 10px;
  object-fit: cover;
  display: block;
}

.blk-bonus-wheel .bw-wallet-name{
  font-weight: 700;
}

.blk-bonus-wheel .bw-wallet-issued{
  color: var(--bw-muted);
  font-size: 12px;
  margin-top: 2px;
}

.blk-bonus-wheel .bw-wallet-get{
  min-height: 38px;
  padding: 0 12px;
}

.blk-bonus-wheel .bw-sheet{
  position: fixed;
  inset: 0;
  z-index: 40;
}

.blk-bonus-wheel .bw-sheet[hidden]{
  display: none !important;
}

.blk-bonus-wheel .bw-sheet-backdrop{
  position: absolute;
  inset: 0;
  background: rgba(0,0,0,.42);
}

.blk-bonus-wheel .bw-sheet-panel{
  position: absolute;
  left: 10px;
  right: 10px;
  bottom: calc(var(--tabbar-h, 64px) + var(--safe-bottom, 0px) + 10px);
  border-radius: calc(var(--bw-r-card) + 6px);
  border: 1px solid var(--bw-border);
  background: var(--bw-card);
  transform: translateY(24px);
  opacity: 0;
  transition: transform .18s ease, opacity .18s ease;
}

.blk-bonus-wheel .bw-sheet.is-open .bw-sheet-panel{
  transform: translateY(0);
  opacity: 1;
}

.blk-bonus-wheel .bw-sheet-handle{
  width: 52px;
  height: 5px;
  border-radius: 999px;
  background: rgba(255,255,255,.22);
  margin: 8px auto;
}

.blk-bonus-wheel .bw-qr-card{
  padding: 12px;
  display: grid;
  gap: 10px;
}

.blk-bonus-wheel .bw-qr-title{
  font-weight: var(--bw-fw-head);
}

.blk-bonus-wheel .bw-qr-text,
.blk-bonus-wheel .bw-qr-code{
  color: var(--bw-muted);
}

.blk-bonus-wheel .bw-qr-imgwrap{
  width: 100%;
  display: flex;
  justify-content: center;
}

.blk-bonus-wheel .bw-qr-imgwrap canvas{
  width: min(74vw, 240px);
  height: auto;
  border-radius: 12px;
  background: #fff;
}

.blk-bonus-wheel .bw-qr-copy{
  width: 100%;
}
